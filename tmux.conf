# vim: set tabstop=2 shiftwidth=2 foldmethod=marker:


##################
#
# BINDING
#
##################
# vi-copy mappings
# C-d C-u : f F t T HLM C-f C-b C-e C-y
# C-Up C-Down

# emacs-edit mappings
# C-d (delete) C-k (delete till-EOL)
# C-a C-e
# C-w C-y
# M-b M-f

# { swap-pane -U
# } swap-pane -D
# space next-layout
# q display-panes
# , rename-window
# . move-window

#{{{1
#
# USEFULL {{{2

bind C command-prompt -p "Name of new window: " "new-window -n '%%'"

# reload config
bind r source-file ~/.tmux.conf \; display-message "Config reloaded..."
# TODO - no need when ver. 1.9 - use plugin
# move x clipboard into tmux paste buffer
#bind C-p run "xclip -o | tmux load-buffer - ; tmux paste-buffer"
# move tmux copy buffer into x clipboard
#bind C-y run "tmux save-buffer - | xclip -i"

# CONVENIENT {{{2
set -g prefix C-z
bind z   send-keys C-z
bind C-z last-window
bind `   select-window -t 0

# set window split
bind v split-window -h
bind b split-window

# hjkl pane traversal
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# COPY-MODE {{{2
# Vi copypaste mode
setw -g mode-keys vi
bind -t vi-copy 'v' begin-selection
bind -t vi-copy 'y' copy-selection


#1}}}

#1}}}

##################
#
# SETTINGS (MISC)
#
##################
#{{{1
# setw -g alternate-screen off
set -g set-titles on
set -g default-terminal "screen-256color"

# Activity monitoring
setw -g monitor-activity on
set -g visual-activity on

# Allows for faster key repetition
set -s escape-time 0

# increase repeat time for repeatable commands
set -g repeat-time 1000

# Command message display time
set -g display-time 4000

# Nr. of lines in history for window
set -g history-limit 10000

# Rather than constraining window size to the maximum size of any client
# connected to the *session*, constrain window size to the maximum size of any
# client connected to *that window*. Much more reasonable.
setw -g aggressive-resize on

# Activity monitoring
setw -g monitor-activity on
set -g visual-activity on

# auto window rename
setw -g automatic-rename on

# rm mouse mode fail
set -g mode-mouse off

# status bar
set -g status-utf8 on

#1}}}

##################
#
# LAYOUT & STATUS
#
##################
#{{{1
set -g status-interval 10
set -g status-justify centre # center align window list
set -g status-left-length 20
set -g status-right-length 140
set -g status-left '#[fg=green]#H #[fg=black]â€¢ #[fg=green,bright]#(uname -r | cut -c 1-6)#[default]'
set -g status-right '#[fg=green,bg=default,bright]#(tmux-mem-cpu-load 1) #[fg=red,dim,bg=default]#(uptime | cut -f 4-5 -d " " | cut -f 1 -d ",") #[fg=white,bg=default]%a %k:%M:%S#[default] #[fg=blue]%Y-%m-%d'

# Start numbering at 1
set -g base-index 1

#1}}}
##################

#
# COLOURS
#
##################
#{{{1
# https://github.com/seebi/tmux-colors-solarized/blob/master/tmuxcolors-256.conf
set -g status-bg colour235 #base02
set -g status-fg colour136 #yellow
set -g status-attr default

# default window title colors
setw -g window-status-fg colour244 #base0
setw -g window-status-bg default
#setw -g window-status-attr dim

# active window title colors
setw -g window-status-current-fg colour166 #orange
setw -g window-status-current-bg default
#setw -g window-status-current-attr bright

# pane border
set -g pane-border-fg colour235 #base02
set -g pane-active-border-fg colour240 #base01

# message text
set -g message-bg colour235 #base02
set -g message-fg colour166 #orange

# pane number display
set -g display-panes-active-colour colour33 #blue
set -g display-panes-colour colour166 #orange
# clock
setw -g clock-mode-colour green #green

#1}}}

##################
#
# PLUGINS
#
##################
#{{{1
# List of plugins
# Supports `github_username/repo` or full git URLs
#set -g @tpm_plugins "              \
  #tmux-plugins/tpm                 \
  #tmux-plugins/tmux-sensible       \
  #tmux-plugins/tmux-open           \
  #tmux-plugins/tmux-copycat        \
  #tmux-plugins/tmux-yank           \
#"
# Other examples:
# github_username/plugin_name    \
# git@github.com/user/plugin     \
# git@bitbucket.com/user/plugin  \

# initializes TMUX plugin manager
#run-shell ~/.tmux/plugins/tpm/tpm

#1}}}
